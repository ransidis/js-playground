<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>POS</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script>


function getUnitPrice(){
		
/*	

When the item is selected from the list, the unit price should be displayed automatically in the correct box. 
according to the following price list. 
	Wireless Keyboard	: 4000.00 LKR
	Wireless Mouse		: 3000.00 LKR
	Headphone			: 1000.00 LKR
	Web Camera			: 8000.00 LKR
	Microphone			: 2500.00 LKR

	
*/

    var item = document.getElementsByName("items")[0].value;

    if(item=="0"){
        document.getElementsByName("unitprice")[0].value=4000;
    } else if(item=="2"){
        document.getElementsByName("unitprice")[0].value=1000;
    } else if(item=="3"){
        document.getElementsByName("unitprice")[0].value=8000;
    } else if(item=="4"){
        document.getElementsByName("unitprice")[0].value=2500;
    } else if(item=="1"){
        document.getElementsByName("unitprice")[0].value=3000;
    }

}

function calcSubtotal(){
	
/*

When the quantity  is entered, the sub total should be displayed automatically in the correct box.
The inputs should be properly validated.

*/	

    function validatecalcSubtotal(quantity){
        if(isNaN(quantity)){
            alert("Quantity cannot be null");
            return false;
        } else if(quantity<=0){
            alert("Please enter a valid quantity (>0)");
            return false;
        } else {
            return true;
        }
    }

    var quantity = document.getElementsByName("quantity")[0].value; 
    var unitPrice = document.getElementsByName("unitprice")[0].value;

    if (validatecalcSubtotal(quantity))
    {
    var subtot = quantity * unitPrice;
    document.getElementsByName("subtotal")[0].value = subtot; 
    }
	
}


function calcDiscount(){
	
/*

When the discount rate (between 2% and 10%) is entered, the discount amount should be displayed automatically in the correct box.
The inputs should be properly validated.

*/		

    function validatecalcDiscount(discount){
        if(isNaN(discount)){
            alert("Discount cannot be null");
            return false;
        } else if(discount<=0){
            alert("Please enter discount rate 2% - 10%");
            return false;
        } else if(discount>10){
            alert("Please enter discount rate 2% - 10%");
            return false;
        } else if(discount<2){
            alert("Please enter discount rate 2% - 10%");
            return false;
        } else {
            return true;
        }
    }

    var discount = document.getElementsByName("discountRate")[0].value;
    var subtotal = document.getElementsByName("subtotal")[0].value;

    if (validatecalcDiscount(discount))
    {
    var disc = subtotal * (1- (discount / 100));
    document.getElementsByName("discountAmount")[0].value = subtotal * (discount / 100);
    document.getElementsByName("discount")[0].value = disc; 
    }

}

function calcBalance(){

/*

When the cash given by the customer is entered, the balance should be displayed automatically in the correct box.
The inputs should be properly validated.

*/	

    function validatecalcBalance(balance){
        if(isNaN(balance)){
            alert("Cash cannot be null");
            return false;
        } else if(balance<=0){
            alert("Please enter a valid cash given by the customer (>0)");
            return false;
        } else {
            return true;
        }
    }

    var cash = document.getElementsByName("cash")[0].value;
    var discount = document.getElementsByName("discount")[0].value;

    if (validatecalcBalance(cash))
    {
    var bal = cash - discount;
    document.getElementsByName("balance")[0].value = bal;
    }
	
}

</script>
</head>

<body class="container">
	<div class="panel panel-success" style="margin-top: 10px;">
    	<div class="panel-heading">
        	<p style="font-size: 36px; margin: 0;"><strong>X-tech Computers</strong></p>
            <p style="font-size: 16px; margin: 0;">No. 12, University Lane, Wijerama. Tel: 071-8351426</p>
        </div>
        <div class="panel-body">
        <table class="table table-hover">
            <tr>
                <th class="text-center">Item</th>
                <th class="text-center">Quantity</th>
                <th class="text-center">Unit Price</th>
                <th class="text-center">Amount</th>
            </tr>
            <tr>
                <td class="col-lg-5">
                    <select class="form-control" required onChange="getUnitPrice()"  name="items">
                        <option value="">Select one</option>
                        <option value="0">Wireless Keyboard</option>
                        <option value="1">Wireless Mouse</option>
                        <option value="2">headphone</option>
                        <option value="3">Web Camera</option>
						<option value="4">Microphone</option>
                    </select>
                </td>
                <td class="col-lg-2">
                    <input class="form-control" type="number" value="0" name="quantity" required onKeyUp="calcSubtotal()" />
                </td>
                <td class="col-lg-2">
                    <input class="form-control" type="number" value="0" name="unitprice" readonly />
                </td>
                <td class="col-lg-3">
                    <input class="form-control" type="number" value="0" name="subtotal" readonly />
                </td>
            </tr>
		</table>
        <table class="table" style="float: right; width: 600px;">
            <tr style="border:none">
                <td class="text-center col-lg-3"><strong>Discount Rate (%)</strong></td>
                <td class="col-lg-2"><input class="form-control" type="number" value="0" name="discountRate" onKeyUp="calcDiscount()" /></td>
                <td class="col-lg-3"><input class="form-control" type="number" value="0" name="discountAmount" readonly /></td>
            </tr>
            <tr style="border-top:none">
                <td class="text-center"><strong>Total</strong></td>
                <td></td>
                <td><input class="form-control" type="number" value="0" name="discount" readonly /></td>
            </tr>
            <tr style="border:none">
                <td class="text-center"><strong>Cash</strong></td>
                <td></td>
                <td><input class="form-control" type="number" value="0" name="cash" onKeyUp="calcBalance()" /></td>
            </tr>
        	<tr style="border:none">
                <td class="text-center"><strong>Balance</strong></td>
                <td></td>
                <td><input class="form-control" type="number" value="0" name="balance" readonly /></td>
            </tr>
        </table>
        
        </div>
		<div class="panel-footer">
			&copy; 2023 | X-tech Computers
		
		</div>
        
        	
    
    </div>
</body>
</html>
