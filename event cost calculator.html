<!DOCTYPE html>
<html>
	<head>
		<style>
			div{
				margin: 15px auto;
			}
		</style>
		<script>
			function validateForm(yourname, youremail, noOfEvents,incomeLevel){
				//	check all inputs and if inputs are correct, the function will return true otherwise false.
				var validemail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
				
				if (yourname.trim() ===""){
					alert("Please enter your name")
					return false;
				} if (youremail.trim() ===""){
					alert("Please enter your email")
					return false;
				} else if (!youremail.match(validemail)){
					alert("Please enter a valid email address")
					return false;
				} if (noOfEvents<1 || noOfEvents>5){
					alert("Please enter number between 1-5")
					return false;
				}
				return true;
								
				
			}
			
			function calculateDiscountRate(noOfEvents,incomeLevel){				
				var discount=0;

				 if(incomeLevel=="1"){
					discount +=0.2
				 }	else if (incomeLevel=="2"){
					discount +=0
				 }

				 if (noOfEvents>2){
					discount += 0.1
				 } else if (noOfEvents<=2){
					discount +=0
				 }
				 return discount;
					
				
				
				
			}
			
			function getAmount(){
				// Take inputs from the form.
				var yourname = document.getElementsByName("txtname")[0].value;
				var youremail = document.getElementsByName("txtemail")[0].value;
				var noOfEvents = document.getElementsByName("numnoofevents")[0].value;
				var incomeLevel = document.getElementsByName("cmbincome")[0].value;
				
				
				
				
				
				//	Call validateForm function and if the result is true, continue the calculation otherwise stop the function with an alert message 
				
				if (validateForm(yourname, youremail, noOfEvents,incomeLevel)){
					var CalculatedDiscount = calculateDiscountRate(noOfEvents,incomeLevel)
					var costPerEvent = 5000;

					var totcost = costPerEvent * (1-CalculatedDiscount)*noOfEvents

					document.getElementById("output").innerHTML = 
   	 					`Dear ${yourname}, <br>
    					The total cost for your requirement is Rs. ${totcost}`;
				}
				
				
				

				
			}
		
		</script>
	</head>
	<body>
		<h1>Event Cost Calculator</h1>
		<form name="frmcostcalc">
			<div>
			<label>Your Name : </label>
			<input type="text" name="txtname" style="width: 350px;" />
			</div>
			<div>
			<label>Your Email : </label>
			<input type="email" name="txtemail" style="width: 350px;"/>
			</div>
			<div>
			<label>Monthly Income : </label>
			<select name="cmbincome">
				<option value=""> -- Select One -- </option>
				<option value="1"> Less than 100,000 (&lt; 100,000) </option>
				<option value="2"> Greater than or equal 100,000 (&gt;= 100,000) </option>
			</select>
			</div>
			<div>
			<label>Number of Events expected to attend : </label>
			<input type="number" name="numnoofevents"/>
			</div>
			<div>
			<input type="button" name="btncalc" value="Calculate" onClick="getAmount()" />
			</div>
		</form>
		<div id="output">
		
		
		</div>
	</body>
</html>
